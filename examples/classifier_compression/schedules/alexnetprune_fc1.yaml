version: 1
pruners:
  layer0_pruner:
    class: 'AutomatedGradualPruner'
    initial_sparsity : 0.01
    final_sparsity : 0.21693991371530533
    weights: ['features.module.0.weight']
  layer1_pruner:
    class: 'AutomatedGradualPruner'
    initial_sparsity : 0.01
    final_sparsity : 0.18137101639939668
    weights: ['features.module.3.weight']
  layer2_pruner:
    class: 'AutomatedGradualPruner'
    initial_sparsity : 0.01
    final_sparsity : 0.06925790411777892
    weights: ['features.module.6.weight']
  layer3_pruner:
    class: 'AutomatedGradualPruner'
    initial_sparsity : 0.01
    final_sparsity : 0.3222820114956841
    weights: ['features.module.8.weight']
  layer4_pruner:
    class: 'AutomatedGradualPruner'
    initial_sparsity : 0.01
    final_sparsity : 0.06344201717298932
    weights: ['features.module.10.weight']
  layer5_pruner:
    class: 'AutomatedGradualPruner'
    initial_sparsity : 0.01
    final_sparsity : 0.8978407036573959
    weights: ['classifier.1.weight']
  layer6_pruner:
    class: 'AutomatedGradualPruner'
    initial_sparsity : 0.01
    final_sparsity : 0.16218757907763334
    weights: ['classifier.4.weight']
  layer7_pruner:
    class: 'AutomatedGradualPruner'
    initial_sparsity : 0.01
    final_sparsity : 0.3770881561240824
    weights: ['classifier.6.weight']
lr_schedulers:
  pruning_lr:
    class: StepLR
    step_size: 40
    gamma: 0.2
policies:
  - pruner:
      instance_name : 'layer0_pruner'
    starting_epoch: 0
    ending_epoch: 20
    frequency: 1
  - pruner:
      instance_name : 'layer1_pruner'
    starting_epoch: 0
    ending_epoch: 20
    frequency: 1
  - pruner:
      instance_name : 'layer2_pruner'
    starting_epoch: 0
    ending_epoch: 20
    frequency: 1
  - pruner:
      instance_name : 'layer3_pruner'
    starting_epoch: 0
    ending_epoch: 20
    frequency: 1
  - pruner:
      instance_name : 'layer4_pruner'
    starting_epoch: 0
    ending_epoch: 20
    frequency: 1
  - pruner:
      instance_name : 'layer5_pruner'
    starting_epoch: 0
    ending_epoch: 1
    frequency: 1
  - pruner:
      instance_name : 'layer6_pruner'
    starting_epoch: 0
    ending_epoch: 20
    frequency: 1
  - pruner:
      instance_name : 'layer7_pruner'
    starting_epoch: 0
    ending_epoch: 20
    frequency: 1
  - lr_scheduler:
      instance_name: pruning_lr
    starting_epoch: 0
    ending_epoch: 500
    frequency: 1
