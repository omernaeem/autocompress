version: 1
pruners:
  layer0_pruner:
    class: 'L1RankedStructureParameterPruner'
    group_type: Filters
    desired_sparsity: 0.0
    weights: ['module.conv1.weight']
  layer1_pruner:
    class: 'L1RankedStructureParameterPruner'
    group_type: Filters
    desired_sparsity: 0.6652822952455212
    weights: ['module.layer1.0.conv1.weight']
  layer2_pruner:
    class: 'L1RankedStructureParameterPruner'
    group_type: Filters
    desired_sparsity: 0.320086088526316
    weights: ['module.layer1.0.conv2.weight']
  layer3_pruner:
    class: 'L1RankedStructureParameterPruner'
    group_type: Filters
    desired_sparsity: 0.3560149855173853
    weights: ['module.layer1.1.conv1.weight']
  layer4_pruner:
    class: 'L1RankedStructureParameterPruner'
    group_type: Filters
    desired_sparsity: 0.16513505213025292
    weights: ['module.layer1.1.conv2.weight']
  layer5_pruner:
    class: 'L1RankedStructureParameterPruner'
    group_type: Filters
    desired_sparsity: 0.45816023607522866
    weights: ['module.layer1.2.conv1.weight']
  layer6_pruner:
    class: 'L1RankedStructureParameterPruner'
    group_type: Filters
    desired_sparsity: 0.010112087320997989
    weights: ['module.layer1.2.conv2.weight']
  layer7_pruner:
    class: 'L1RankedStructureParameterPruner'
    group_type: Filters
    desired_sparsity: 0.9747846372656501
    weights: ['module.layer2.0.conv1.weight']
  layer8_pruner:
    class: 'L1RankedStructureParameterPruner'
    group_type: Filters
    desired_sparsity: 0.99
    weights: ['module.layer2.0.conv2.weight']
  layer9_pruner:
    class: 'L1RankedStructureParameterPruner'
    group_type: Filters
    desired_sparsity: 0.99
    weights: ['module.layer2.1.conv1.weight']
  layer10_pruner:
    class: 'L1RankedStructureParameterPruner'
    group_type: Filters
    desired_sparsity: 0.99
    weights: ['module.layer2.1.conv2.weight']
  layer11_pruner:
    class: 'L1RankedStructureParameterPruner'
    group_type: Filters
    desired_sparsity: 0.99
    weights: ['module.layer2.2.conv1.weight']
  layer12_pruner:
    class: 'L1RankedStructureParameterPruner'
    group_type: Filters
    desired_sparsity: 0.99
    weights: ['module.layer2.2.conv2.weight']
  layer13_pruner:
    class: 'L1RankedStructureParameterPruner'
    group_type: Filters
    desired_sparsity: 0.99
    weights: ['module.layer3.0.conv1.weight']
  layer14_pruner:
    class: 'L1RankedStructureParameterPruner'
    group_type: Filters
    desired_sparsity: 0.99
    weights: ['module.layer3.0.conv2.weight']
  layer15_pruner:
    class: 'L1RankedStructureParameterPruner'
    group_type: Filters
    desired_sparsity: 0.99
    weights: ['module.layer3.1.conv1.weight']
  layer16_pruner:
    class: 'L1RankedStructureParameterPruner'
    group_type: Filters
    desired_sparsity: 0.99
    weights: ['module.layer3.1.conv2.weight']
  layer17_pruner:
    class: 'L1RankedStructureParameterPruner'
    group_type: Filters
    desired_sparsity: 0.99
    weights: ['module.layer3.2.conv1.weight']
  layer18_pruner:
    class: 'L1RankedStructureParameterPruner'
    group_type: Filters
    desired_sparsity: 0.99
    weights: ['module.layer3.2.conv2.weight']
  layer19_pruner:
    class: 'L1RankedStructureParameterPruner'
    group_type: Filters
    desired_sparsity: 0.0
    weights: ['module.fc.weight']
lr_schedulers:
  pruning_lr:
    class: ExponentialLR
    gamma: 0.95
extensions:
  net_thinner:
    class: FilterRemover
    thinning_func_str: remove_filters
    arch: 'plain20_cifar'
    dataset: 'cifar10'
policies:
  - pruner:
      instance_name : 'layer0_pruner'
    epochs: [173]
  - pruner:
      instance_name : 'layer1_pruner'
    epochs: [173]
  - pruner:
      instance_name : 'layer2_pruner'
    epochs: [173]
  - pruner:
      instance_name : 'layer3_pruner'
    epochs: [173]
  - pruner:
      instance_name : 'layer4_pruner'
    epochs: [173]
  - pruner:
      instance_name : 'layer5_pruner'
    epochs: [173]
  - pruner:
      instance_name : 'layer6_pruner'
    epochs: [173]
  - pruner:
      instance_name : 'layer7_pruner'
    epochs: [173]
  - pruner:
      instance_name : 'layer8_pruner'
    epochs: [173]
  - pruner:
      instance_name : 'layer9_pruner'
    epochs: [173]
  - pruner:
      instance_name : 'layer10_pruner'
    epochs: [173]
  - pruner:
      instance_name : 'layer11_pruner'
    epochs: [173]
  - pruner:
      instance_name : 'layer12_pruner'
    epochs: [173]
  - pruner:
      instance_name : 'layer13_pruner'
    epochs: [173]
  - pruner:
      instance_name : 'layer14_pruner'
    epochs: [173]
  - pruner:
      instance_name : 'layer15_pruner'
    epochs: [173]
  - pruner:
      instance_name : 'layer16_pruner'
    epochs: [173]
  - pruner:
      instance_name : 'layer17_pruner'
    epochs: [173]
  - pruner:
      instance_name : 'layer18_pruner'
    epochs: [173]
  - pruner:
      instance_name : 'layer19_pruner'
    epochs: [173]
  - lr_scheduler:
      instance_name: pruning_lr
    starting_epoch: 173
    ending_epoch: 500
    frequency: 1
  - extension:
      instance_name : net_thinner
    epochs: [173]
